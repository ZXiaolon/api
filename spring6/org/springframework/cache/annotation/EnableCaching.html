<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>EnableCaching (Spring Framework 6.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.springframework.cache.annotation, annotation type: EnableCaching">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">Spring Framework</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/EnableCaching.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a>&nbsp;|&nbsp;</li>
<li>Required</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.springframework.cache.annotation</a></div>
<h1 title="Annotation Interface EnableCaching" class="title">Annotation Interface EnableCaching</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="../../context/annotation/Import.html" title="annotation interface in org.springframework.context.annotation">@Import</a>(<a href="CachingConfigurationSelector.html" title="class in org.springframework.cache.annotation">CachingConfigurationSelector.class</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">EnableCaching</span></div>
<div class="block">Enables Spring's annotation-driven cache management capability, similar to the
 support found in Spring's <code>&lt;cache:*&gt;</code> XML namespace. To be used together
 with @<a href="../../context/annotation/Configuration.html" title="annotation interface in org.springframework.context.annotation"><code>Configuration</code></a>
 classes as follows:

 <pre class="code">
 &#064;Configuration
 &#064;EnableCaching
 public class AppConfig {

     &#064;Bean
     public MyService myService() {
         // configure and return a class having &#064;Cacheable methods
         return new MyService();
     }

     &#064;Bean
     public CacheManager cacheManager() {
         // configure and return an implementation of Spring's CacheManager SPI
         SimpleCacheManager cacheManager = new SimpleCacheManager();
         cacheManager.setCaches(Set.of(new ConcurrentMapCache("default")));
         return cacheManager;
     }
 }</pre>

 <p>For reference, the example above can be compared to the following Spring XML
 configuration:

 <pre class="code">
 &lt;beans&gt;

     &lt;cache:annotation-driven/&gt;

     &lt;bean id="myService" class="com.foo.MyService"/&gt;

     &lt;bean id="cacheManager" class="org.springframework.cache.support.SimpleCacheManager"&gt;
         &lt;property name="caches"&gt;
             &lt;set&gt;
                 &lt;bean class="org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean"&gt;
                     &lt;property name="name" value="default"/&gt;
                 &lt;/bean&gt;
             &lt;/set&gt;
         &lt;/property&gt;
     &lt;/bean&gt;

 &lt;/beans&gt;
 </pre>

 In both of the scenarios above, <code>@EnableCaching</code> and <code>
 &lt;cache:annotation-driven/&gt;</code> are responsible for registering the necessary Spring
 components that power annotation-driven cache management, such as the
 <a href="../interceptor/CacheInterceptor.html" title="class in org.springframework.cache.interceptor"><code>CacheInterceptor</code></a> and the
 proxy- or AspectJ-based advice that weaves the interceptor into the call stack when
 <a href="Cacheable.html" title="annotation interface in org.springframework.cache.annotation"><code>@Cacheable</code></a> methods are invoked.

 <p>If the JSR-107 API and Spring's JCache implementation are present, the necessary
 components to manage standard cache annotations are also registered. This creates the
 proxy- or AspectJ-based advice that weaves the interceptor into the call stack when
 methods annotated with <code>CacheResult</code>, <code>CachePut</code>, <code>CacheRemove</code> or
 <code>CacheRemoveAll</code> are invoked.

 <p><strong>A bean of type <a href="../CacheManager.html" title="interface in org.springframework.cache"><code>CacheManager</code></a>
 must be registered</strong>, as there is no reasonable default that the framework can
 use as a convention. And whereas the <code>&lt;cache:annotation-driven&gt;</code> element assumes
 a bean <em>named</em> "cacheManager", <code>@EnableCaching</code> searches for a cache
 manager bean <em>by type</em>. Therefore, naming of the cache manager bean method is
 not significant.

 <p>For those that wish to establish a more direct relationship between
 <code>@EnableCaching</code> and the exact cache manager bean to be used,
 the <a href="CachingConfigurer.html" title="interface in org.springframework.cache.annotation"><code>CachingConfigurer</code></a> callback interface may be implemented.
 Notice the <code>@Override</code>-annotated methods below:

 <pre class="code">
 &#064;Configuration
 &#064;EnableCaching
 public class AppConfig implements CachingConfigurer {

     &#064;Bean
     public MyService myService() {
         // configure and return a class having &#064;Cacheable methods
         return new MyService();
     }

     &#064;Bean
     &#064;Override
     public CacheManager cacheManager() {
         // configure and return an implementation of Spring's CacheManager SPI
         SimpleCacheManager cacheManager = new SimpleCacheManager();
         cacheManager.setCaches(Set.of(new ConcurrentMapCache("default")));
         return cacheManager;
     }

     &#064;Bean
     &#064;Override
     public KeyGenerator keyGenerator() {
         // configure and return an implementation of Spring's KeyGenerator SPI
         return new MyKeyGenerator();
     }
 }</pre>

 This approach may be desirable simply because it is more explicit, or it may be
 necessary in order to distinguish between two <code>CacheManager</code> beans present in the
 same container.

 <p>Notice also the <code>keyGenerator</code> method in the example above. This allows for
 customizing the strategy for cache key generation, per Spring's <a href="../interceptor/KeyGenerator.html" title="interface in org.springframework.cache.interceptor"><code>KeyGenerator</code></a> SPI. Normally,
 <code>@EnableCaching</code> will configure Spring's
 <a href="../interceptor/SimpleKeyGenerator.html" title="class in org.springframework.cache.interceptor"><code>SimpleKeyGenerator</code></a>
 for this purpose, but when implementing <code>CachingConfigurer</code>, a key generator
 must be provided explicitly. Return <code>null</code> or <code>new SimpleKeyGenerator()</code>
 from this method if no customization is necessary.

 <p><a href="CachingConfigurer.html" title="interface in org.springframework.cache.annotation"><code>CachingConfigurer</code></a> offers additional customization options: it is recommended
 to extend from <a href="CachingConfigurerSupport.html" title="class in org.springframework.cache.annotation"><code>CachingConfigurerSupport</code></a> that provides a default implementation for all methods which
 can be useful if you do not need to customize everything. See <a href="CachingConfigurer.html" title="interface in org.springframework.cache.annotation"><code>CachingConfigurer</code></a>
 Javadoc for further details.

 <p>The <a href="#mode()"><code>mode()</code></a> attribute controls how advice is applied: If the mode is
 <a href="../../context/annotation/AdviceMode.html#PROXY"><code>AdviceMode.PROXY</code></a> (the default), then the other attributes control the behavior
 of the proxying. Please note that proxy mode allows for interception of calls through
 the proxy only; local calls within the same class cannot get intercepted that way.

 <p>Note that if the <a href="#mode()">mode()</a> is set to <a href="../../context/annotation/AdviceMode.html#ASPECTJ"><code>AdviceMode.ASPECTJ</code></a>, then the
 value of the <a href="#proxyTargetClass()"><code>proxyTargetClass()</code></a> attribute will be ignored. Note also that in
 this case the <code>spring-aspects</code> module JAR must be present on the classpath, with
 compile-time weaving or load-time weaving applying the aspect to the affected classes.
 There is no proxy involved in such a scenario; local calls will be intercepted as well.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.1</dd>
<dt>Author:</dt>
<dd>Chris Beams, Juergen Hoeller</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="CachingConfigurer.html" title="interface in org.springframework.cache.annotation"><code>CachingConfigurer</code></a></li>
<li><a href="CachingConfigurationSelector.html" title="class in org.springframework.cache.annotation"><code>CachingConfigurationSelector</code></a></li>
<li><a href="ProxyCachingConfiguration.html" title="class in org.springframework.cache.annotation"><code>ProxyCachingConfiguration</code></a></li>
<li><a href="../aspectj/AspectJCachingConfiguration.html" title="class in org.springframework.cache.aspectj"><code>AspectJCachingConfiguration</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="../../context/annotation/AdviceMode.html" title="enum class in org.springframework.context.annotation">AdviceMode</a></code></div>
<div class="col-second even-row-color"><code><a href="#mode()" class="member-name-link">mode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Indicate how caching advice should be applied.</div>
</div>
<div class="col-first odd-row-color"><code>int</code></div>
<div class="col-second odd-row-color"><code><a href="#order()" class="member-name-link">order</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Indicate the ordering of the execution of the caching advisor
 when multiple advices are applied at a specific joinpoint.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#proxyTargetClass()" class="member-name-link">proxyTargetClass</a></code></div>
<div class="col-last even-row-color">
<div class="block">Indicate whether subclass-based (CGLIB) proxies are to be created as opposed
 to standard Java interface-based proxies.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="proxyTargetClass()">
<h3>proxyTargetClass</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">proxyTargetClass</span></div>
<div class="block">Indicate whether subclass-based (CGLIB) proxies are to be created as opposed
 to standard Java interface-based proxies. The default is <code>false</code>. <strong>
 Applicable only if <a href="#mode()"><code>mode()</code></a> is set to <a href="../../context/annotation/AdviceMode.html#PROXY"><code>AdviceMode.PROXY</code></a></strong>.
 <p>Note that setting this attribute to <code>true</code> will affect <em>all</em>
 Spring-managed beans requiring proxying, not just those marked with <code>@Cacheable</code>.
 For example, other beans marked with Spring's <code>@Transactional</code> annotation will
 be upgraded to subclass proxying at the same time. This approach has no negative
 impact in practice unless one is explicitly expecting one type of proxy vs another,
 e.g. in tests.</div>
<dl class="notes">
<dt>Default:</dt>
<dd>false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mode()">
<h3>mode</h3>
<div class="member-signature"><span class="return-type"><a href="../../context/annotation/AdviceMode.html" title="enum class in org.springframework.context.annotation">AdviceMode</a></span>&nbsp;<span class="element-name">mode</span></div>
<div class="block">Indicate how caching advice should be applied.
 <p><b>The default is <a href="../../context/annotation/AdviceMode.html#PROXY"><code>AdviceMode.PROXY</code></a>.</b>
 Please note that proxy mode allows for interception of calls through the proxy
 only. Local calls within the same class cannot get intercepted that way;
 a caching annotation on such a method within a local call will be ignored
 since Spring's interceptor does not even kick in for such a runtime scenario.
 For a more advanced mode of interception, consider switching this to
 <a href="../../context/annotation/AdviceMode.html#ASPECTJ"><code>AdviceMode.ASPECTJ</code></a>.</div>
<dl class="notes">
<dt>Default:</dt>
<dd>PROXY</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="order()">
<h3>order</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">order</span></div>
<div class="block">Indicate the ordering of the execution of the caching advisor
 when multiple advices are applied at a specific joinpoint.
 <p>The default is <a href="../../core/Ordered.html#LOWEST_PRECEDENCE"><code>Ordered.LOWEST_PRECEDENCE</code></a>.</div>
<dl class="notes">
<dt>Default:</dt>
<dd>2147483647</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
