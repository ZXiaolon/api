<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>R2dbcTransactionManager (Spring Framework 6.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.springframework.r2dbc.connection, class: R2dbcTransactionManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">Spring Framework</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/R2dbcTransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.springframework.r2dbc.connection</a></div>
<h1 title="Class R2dbcTransactionManager" class="title">Class R2dbcTransactionManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">org.springframework.transaction.reactive.AbstractReactiveTransactionManager</a>
<div class="inheritance">org.springframework.r2dbc.connection.R2dbcTransactionManager</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code><a href="../../beans/factory/InitializingBean.html" title="interface in org.springframework.beans.factory">InitializingBean</a></code>, <code><a href="../../transaction/ReactiveTransactionManager.html" title="interface in org.springframework.transaction">ReactiveTransactionManager</a></code>, <code><a href="../../transaction/TransactionManager.html" title="interface in org.springframework.transaction">TransactionManager</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">R2dbcTransactionManager</span>
<span class="extends-implements">extends <a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a>
implements <a href="../../beans/factory/InitializingBean.html" title="interface in org.springframework.beans.factory">InitializingBean</a></span></div>
<div class="block"><a href="../../transaction/ReactiveTransactionManager.html" title="interface in org.springframework.transaction"><code>ReactiveTransactionManager</code></a>
 implementation for a single R2DBC <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory</code></a>. This class is
 capable of working in any environment with any R2DBC driver, as long as the
 setup uses a <code>ConnectionFactory</code> as its <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/Connection.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>Connection</code></a> factory
 mechanism. Binds a R2DBC <code>Connection</code> from the specified
 <code>ConnectionFactory</code> to the current subscriber context, potentially
 allowing for one context-bound <code>Connection</code> per <code>ConnectionFactory</code>.

 <p><b>Note: The <code>ConnectionFactory</code> that this transaction manager
 operates on needs to return independent <code>Connection</code>s.</b>
 The <code>Connection</code>s may come from a pool (the typical case), but the
 <code>ConnectionFactory</code> must not return scoped <code>Connection</code>s
 or the like. This transaction manager will associate <code>Connection</code>
 with context-bound transactions itself, according to the specified propagation
 behavior. It assumes that a separate, independent <code>Connection</code> can
 be obtained even during an ongoing transaction.

 <p>Application code is required to retrieve the R2DBC Connection via
 <a href="ConnectionFactoryUtils.html#getConnection(io.r2dbc.spi.ConnectionFactory)"><code>ConnectionFactoryUtils.getConnection(ConnectionFactory)</code></a>
 instead of a standard R2DBC-style <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html#create()" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory.create()</code></a> call.
 Spring classes such as <code>DatabaseClient</code> use this strategy implicitly.
 If not used in combination with this transaction manager, the
 <a href="ConnectionFactoryUtils.html" title="class in org.springframework.r2dbc.connection"><code>ConnectionFactoryUtils</code></a> lookup strategy behaves exactly like the
 native <code>ConnectionFactory</code> lookup; it can thus be used in a portable fashion.

 <p>Alternatively, you can allow application code to work with the standard
 R2DBC lookup pattern <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html#create()" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory.create()</code></a>, for example for code
 that is not aware of Spring at all. In that case, define a
 <a href="TransactionAwareConnectionFactoryProxy.html" title="class in org.springframework.r2dbc.connection"><code>TransactionAwareConnectionFactoryProxy</code></a> for your target <code>ConnectionFactory</code>,
 and pass that proxy <code>ConnectionFactory</code> to your DAOs, which will automatically
 participate in Spring-managed transactions when accessing it.

 <p>This transaction manager triggers flush callbacks on registered transaction
 synchronizations (if synchronization is generally active), assuming resources
 operating on the underlying R2DBC <code>Connection</code>.

 <p>Spring's <code>TransactionDefinition</code> attributes are carried forward to R2DBC drivers
 using extensible R2DBC <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/TransactionDefinition.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>TransactionDefinition</code></a>. Subclasses may
 override <a href="#createTransactionDefinition(org.springframework.transaction.TransactionDefinition)"><code>createTransactionDefinition(TransactionDefinition)</code></a> to customize
 transaction definitions for vendor-specific attributes.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>5.3</dd>
<dt>Author:</dt>
<dd>Mark Paluch, Juergen Hoeller</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="ConnectionFactoryUtils.html#getConnection(io.r2dbc.spi.ConnectionFactory)"><code>ConnectionFactoryUtils.getConnection(ConnectionFactory)</code></a></li>
<li><a href="ConnectionFactoryUtils.html#releaseConnection(io.r2dbc.spi.Connection,io.r2dbc.spi.ConnectionFactory)"><code>ConnectionFactoryUtils.releaseConnection(io.r2dbc.spi.Connection, io.r2dbc.spi.ConnectionFactory)</code></a></li>
<li><a href="TransactionAwareConnectionFactoryProxy.html" title="class in org.springframework.r2dbc.connection"><code>TransactionAwareConnectionFactoryProxy</code></a></li>
<li><a href="../../../../serialized-form.html#org.springframework.r2dbc.connection.R2dbcTransactionManager">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.springframework.transaction.reactive.AbstractReactiveTransactionManager">Nested classes/interfaces inherited from class&nbsp;org.springframework.transaction.reactive.<a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></h2>
<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.SuspendedResourcesHolder.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager.SuspendedResourcesHolder</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.springframework.transaction.reactive.AbstractReactiveTransactionManager">Fields inherited from class&nbsp;org.springframework.transaction.reactive.<a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></h3>
<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#logger">logger</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">R2dbcTransactionManager</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Create a new <code>R2dbcTransactionManager</code> instance.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(io.r2dbc.spi.ConnectionFactory)" class="member-name-link">R2dbcTransactionManager</a><wbr>(<a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a>&nbsp;connectionFactory)</code></div>
<div class="col-last odd-row-color">
<div class="block">Create a new <code>R2dbcTransactionManager</code> instance.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#afterPropertiesSet()" class="member-name-link">afterPropertiesSet</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked by the containing <code>BeanFactory</code> after it has set all bean properties
 and satisfied <a href="../../beans/factory/BeanFactoryAware.html" title="interface in org.springframework.beans.factory"><code>BeanFactoryAware</code></a>, <code>ApplicationContextAware</code> etc.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/TransactionDefinition.html" title="class or interface in io.r2dbc.spi" class="external-link">TransactionDefinition</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createTransactionDefinition(org.springframework.transaction.TransactionDefinition)" class="member-name-link">createTransactionDefinition</a><wbr>(<a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine the transaction definition from our <code>TransactionDefinition</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#determineTimeout(org.springframework.transaction.TransactionDefinition)" class="member-name-link">determineTimeout</a><wbr>(<a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine the actual timeout to use for the given definition.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doBegin(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,org.springframework.transaction.TransactionDefinition)" class="member-name-link">doBegin</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Begin a new transaction with semantics according to the given transaction
 definition.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCleanupAfterCompletion(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)" class="member-name-link">doCleanupAfterCompletion</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cleanup resources after transaction completion.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCommit(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)" class="member-name-link">doCommit</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;TransactionSynchronizationManager,
 <a href="../../transaction/reactive/GenericReactiveTransaction.html" title="class in org.springframework.transaction.reactive">GenericReactiveTransaction</a>&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform an actual commit of the given transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doGetTransaction(org.springframework.transaction.reactive.TransactionSynchronizationManager)" class="member-name-link">doGetTransaction</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a transaction object for the current transaction state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doResume(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,java.lang.Object)" class="member-name-link">doResume</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resume the resources of the current transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doRollback(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)" class="member-name-link">doRollback</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;TransactionSynchronizationManager,
 <a href="../../transaction/reactive/GenericReactiveTransaction.html" title="class in org.springframework.transaction.reactive">GenericReactiveTransaction</a>&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform an actual rollback of the given transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doSetRollbackOnly(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)" class="member-name-link">doSetRollbackOnly</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="../../transaction/reactive/GenericReactiveTransaction.html" title="class in org.springframework.transaction.reactive">GenericReactiveTransaction</a>&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the given transaction rollback-only.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doSuspend(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)" class="member-name-link">doSuspend</a><wbr>(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Suspend the resources of the current transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnectionFactory()" class="member-name-link">getConnectionFactory</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the R2DBC <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory</code></a> that this instance manages transactions for.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEnforceReadOnly()" class="member-name-link">isEnforceReadOnly</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return whether to enforce the read-only nature of a transaction through an
 explicit statement on the transactional connection.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isExistingTransaction(java.lang.Object)" class="member-name-link">isExistingTransaction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtainConnectionFactory()" class="member-name-link">obtainConnectionFactory</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtain the <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory</code></a> for actual use.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareTransactionalConnection(io.r2dbc.spi.Connection,org.springframework.transaction.TransactionDefinition)" class="member-name-link">prepareTransactionalConnection</a><wbr>(<a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/Connection.html" title="class or interface in io.r2dbc.spi" class="external-link">Connection</a>&nbsp;con,
 <a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prepare the transactional <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/Connection.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>Connection</code></a> right after transaction begin.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/IsolationLevel.html" title="class or interface in io.r2dbc.spi" class="external-link">IsolationLevel</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resolveIsolationLevel(int)" class="member-name-link">resolveIsolationLevel</a><wbr>(int&nbsp;isolationLevel)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resolve the <a href="../../transaction/TransactionDefinition.html#getIsolationLevel()">isolation level constant</a> to a R2DBC
 <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/IsolationLevel.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>IsolationLevel</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setConnectionFactory(io.r2dbc.spi.ConnectionFactory)" class="member-name-link">setConnectionFactory</a><wbr>(<a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a>&nbsp;connectionFactory)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the R2DBC <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory</code></a> that this instance should manage transactions for.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setEnforceReadOnly(boolean)" class="member-name-link">setEnforceReadOnly</a><wbr>(boolean&nbsp;enforceReadOnly)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specify whether to enforce the read-only nature of a transaction (as indicated by
 <a href="../../transaction/TransactionDefinition.html#isReadOnly()"><code>TransactionDefinition.isReadOnly()</code></a>) through an explicit statement on the
 transactional connection: "SET TRANSACTION READ ONLY" as understood by Oracle,
 MySQL and Postgres.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#translateException(java.lang.String,io.r2dbc.spi.R2dbcException)" class="member-name-link">translateException</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;task,
 <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/R2dbcException.html" title="class or interface in io.r2dbc.spi" class="external-link">R2dbcException</a>&nbsp;ex)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Translate the given R2DBC commit/rollback exception to a common Spring exception to propagate
 from the <a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#commit(org.springframework.transaction.ReactiveTransaction)"><code>AbstractReactiveTransactionManager.commit(org.springframework.transaction.ReactiveTransaction)</code></a>/<a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#rollback(org.springframework.transaction.ReactiveTransaction)"><code>AbstractReactiveTransactionManager.rollback(org.springframework.transaction.ReactiveTransaction)</code></a> call.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.springframework.transaction.reactive.AbstractReactiveTransactionManager">Methods inherited from class&nbsp;org.springframework.transaction.reactive.<a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></h3>
<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#commit(org.springframework.transaction.ReactiveTransaction)">commit</a>, <a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#getReactiveTransaction(org.springframework.transaction.TransactionDefinition)">getReactiveTransaction</a>, <a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#prepareForCommit(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">prepareForCommit</a>, <a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#registerAfterCompletionWithExistingTransaction(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,java.util.List)">registerAfterCompletionWithExistingTransaction</a>, <a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#rollback(org.springframework.transaction.ReactiveTransaction)">rollback</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>R2dbcTransactionManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">R2dbcTransactionManager</span>()</div>
<div class="block">Create a new <code>R2dbcTransactionManager</code> instance.
 A ConnectionFactory has to be set to be able to use it.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setConnectionFactory(io.r2dbc.spi.ConnectionFactory)"><code>setConnectionFactory(io.r2dbc.spi.ConnectionFactory)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(io.r2dbc.spi.ConnectionFactory)">
<h3>R2dbcTransactionManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">R2dbcTransactionManager</span><wbr><span class="parameters">(<a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a>&nbsp;connectionFactory)</span></div>
<div class="block">Create a new <code>R2dbcTransactionManager</code> instance.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>connectionFactory</code> - the R2DBC ConnectionFactory to manage transactions for</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setConnectionFactory(io.r2dbc.spi.ConnectionFactory)">
<h3>setConnectionFactory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setConnectionFactory</span><wbr><span class="parameters">(<a href="../../lang/Nullable.html" title="annotation interface in org.springframework.lang">@Nullable</a>
 <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a>&nbsp;connectionFactory)</span></div>
<div class="block">Set the R2DBC <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory</code></a> that this instance should manage transactions for.
 <p>This will typically be a locally defined <code>ConnectionFactory</code>, for example a connection pool.
 <p><b>The <code>ConnectionFactory</code> passed in here needs to return independent <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/Connection.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>Connection</code></a>s.</b>
 The <code>Connection</code>s may come from a pool (the typical case), but the <code>ConnectionFactory</code>
 must not return scoped <code>Connection</code>s or the like.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="TransactionAwareConnectionFactoryProxy.html" title="class in org.springframework.r2dbc.connection"><code>TransactionAwareConnectionFactoryProxy</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnectionFactory()">
<h3>getConnectionFactory</h3>
<div class="member-signature"><span class="annotations"><a href="../../lang/Nullable.html" title="annotation interface in org.springframework.lang">@Nullable</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a></span>&nbsp;<span class="element-name">getConnectionFactory</span>()</div>
<div class="block">Return the R2DBC <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory</code></a> that this instance manages transactions for.</div>
</section>
</li>
<li>
<section class="detail" id="obtainConnectionFactory()">
<h3>obtainConnectionFactory</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link">ConnectionFactory</a></span>&nbsp;<span class="element-name">obtainConnectionFactory</span>()</div>
<div class="block">Obtain the <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/ConnectionFactory.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>ConnectionFactory</code></a> for actual use.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <code>ConnectionFactory</code> (never <code>null</code>)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - in case of no ConnectionFactory set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setEnforceReadOnly(boolean)">
<h3>setEnforceReadOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setEnforceReadOnly</span><wbr><span class="parameters">(boolean&nbsp;enforceReadOnly)</span></div>
<div class="block">Specify whether to enforce the read-only nature of a transaction (as indicated by
 <a href="../../transaction/TransactionDefinition.html#isReadOnly()"><code>TransactionDefinition.isReadOnly()</code></a>) through an explicit statement on the
 transactional connection: "SET TRANSACTION READ ONLY" as understood by Oracle,
 MySQL and Postgres.
 <p>The exact treatment, including any SQL statement executed on the connection,
 can be customized through <a href="#prepareTransactionalConnection(io.r2dbc.spi.Connection,org.springframework.transaction.TransactionDefinition)"><code>prepareTransactionalConnection(io.r2dbc.spi.Connection, org.springframework.transaction.TransactionDefinition)</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#prepareTransactionalConnection(io.r2dbc.spi.Connection,org.springframework.transaction.TransactionDefinition)"><code>prepareTransactionalConnection(io.r2dbc.spi.Connection, org.springframework.transaction.TransactionDefinition)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEnforceReadOnly()">
<h3>isEnforceReadOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEnforceReadOnly</span>()</div>
<div class="block">Return whether to enforce the read-only nature of a transaction through an
 explicit statement on the transactional connection.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#setEnforceReadOnly(boolean)"><code>setEnforceReadOnly(boolean)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="afterPropertiesSet()">
<h3>afterPropertiesSet</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">afterPropertiesSet</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../beans/factory/InitializingBean.html#afterPropertiesSet()">InitializingBean</a></code></span></div>
<div class="block">Invoked by the containing <code>BeanFactory</code> after it has set all bean properties
 and satisfied <a href="../../beans/factory/BeanFactoryAware.html" title="interface in org.springframework.beans.factory"><code>BeanFactoryAware</code></a>, <code>ApplicationContextAware</code> etc.
 <p>This method allows the bean instance to perform validation of its overall
 configuration and final initialization when all bean properties have been set.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../beans/factory/InitializingBean.html#afterPropertiesSet()">afterPropertiesSet</a></code>&nbsp;in interface&nbsp;<code><a href="../../beans/factory/InitializingBean.html" title="interface in org.springframework.beans.factory">InitializingBean</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doGetTransaction(org.springframework.transaction.reactive.TransactionSynchronizationManager)">
<h3>doGetTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">doGetTransaction</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager)</span>
                           throws <span class="exceptions"><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doGetTransaction(org.springframework.transaction.reactive.TransactionSynchronizationManager)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Return a transaction object for the current transaction state.
 <p>The returned object will usually be specific to the concrete transaction
 manager implementation, carrying corresponding transaction state in a
 modifiable fashion. This object will be passed into the other template
 methods (e.g. doBegin and doCommit), either directly or as part of a
 DefaultReactiveTransactionStatus instance.
 <p>The returned object should contain information about any existing
 transaction, that is, a transaction that has already started before the
 current <code>getTransaction</code> call on the transaction manager.
 Consequently, a <code>doGetTransaction</code> implementation will usually
 look for an existing transaction and store corresponding state in the
 returned transaction object.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doGetTransaction(org.springframework.transaction.reactive.TransactionSynchronizationManager)">doGetTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>synchronizationManager</code> - the synchronization manager bound to the current transaction</dd>
<dt>Returns:</dt>
<dd>the current transaction object</dd>
<dt>Throws:</dt>
<dd><code><a href="../../transaction/CannotCreateTransactionException.html" title="class in org.springframework.transaction">CannotCreateTransactionException</a></code> - if transaction support is not available</dd>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of lookup or system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doBegin(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,org.springframework.transaction.TransactionDefinition)"><code>AbstractReactiveTransactionManager.doBegin(org.springframework.transaction.reactive.TransactionSynchronizationManager, java.lang.Object, org.springframework.transaction.TransactionDefinition)</code></a></li>
<li><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doCommit(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)"><code>AbstractReactiveTransactionManager.doCommit(org.springframework.transaction.reactive.TransactionSynchronizationManager, org.springframework.transaction.reactive.GenericReactiveTransaction)</code></a></li>
<li><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doRollback(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)"><code>AbstractReactiveTransactionManager.doRollback(org.springframework.transaction.reactive.TransactionSynchronizationManager, org.springframework.transaction.reactive.GenericReactiveTransaction)</code></a></li>
<li><a href="../../transaction/reactive/GenericReactiveTransaction.html#getTransaction()"><code>GenericReactiveTransaction.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isExistingTransaction(java.lang.Object)">
<h3>isExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isExistingTransaction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#isExistingTransaction(java.lang.Object)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).
 <p>The result will be evaluated according to the specified propagation
 behavior for the new transaction. An existing transaction might get
 suspended (in case of PROPAGATION_REQUIRES_NEW), or the new transaction
 might participate in the existing one (in case of PROPAGATION_REQUIRED).
 <p>The default implementation returns <code>false</code>, assuming that
 participating in existing transactions is generally not supported.
 Subclasses are of course encouraged to provide such support.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#isExistingTransaction(java.lang.Object)">isExistingTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>transaction</code> - the transaction object returned by doGetTransaction</dd>
<dt>Returns:</dt>
<dd>if there is an existing transaction</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doGetTransaction(org.springframework.transaction.reactive.TransactionSynchronizationManager)"><code>AbstractReactiveTransactionManager.doGetTransaction(org.springframework.transaction.reactive.TransactionSynchronizationManager)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doBegin(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,org.springframework.transaction.TransactionDefinition)">
<h3>doBegin</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">doBegin</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</span>
                                             throws <span class="exceptions"><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doBegin(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,org.springframework.transaction.TransactionDefinition)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Begin a new transaction with semantics according to the given transaction
 definition. Does not have to care about applying the propagation behavior,
 as this has already been handled by this abstract manager.
 <p>This method gets called when the transaction manager has decided to actually
 start a new transaction. Either there wasn't any transaction before, or the
 previous transaction has been suspended.
 <p>A special scenario is a nested transaction: This method will be called to
 start a nested transaction when necessary. In such a context, there will be an
 active transaction: The implementation of this method has to detect this and
 start an appropriate nested transaction.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doBegin(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,org.springframework.transaction.TransactionDefinition)">doBegin</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>synchronizationManager</code> - the synchronization manager bound to the new transaction</dd>
<dd><code>transaction</code> - the transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>definition</code> - a TransactionDefinition instance, describing propagation
 behavior, isolation level, read-only flag, timeout, and transaction name</dd>
<dt>Throws:</dt>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of creation or system errors</dd>
<dd><code><a href="../../transaction/NestedTransactionNotSupportedException.html" title="class in org.springframework.transaction">NestedTransactionNotSupportedException</a></code> - if the underlying transaction does not support nesting (e.g. through savepoints)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createTransactionDefinition(org.springframework.transaction.TransactionDefinition)">
<h3>createTransactionDefinition</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/TransactionDefinition.html" title="class or interface in io.r2dbc.spi" class="external-link">TransactionDefinition</a></span>&nbsp;<span class="element-name">createTransactionDefinition</span><wbr><span class="parameters">(<a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</span></div>
<div class="block">Determine the transaction definition from our <code>TransactionDefinition</code>.
 Can be overridden to wrap the R2DBC <code>TransactionDefinition</code> to adjust or
 enhance transaction attributes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>definition</code> - the transaction definition</dd>
<dt>Returns:</dt>
<dd>the actual transaction definition to use</dd>
<dt>Since:</dt>
<dd>6.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/TransactionDefinition.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>TransactionDefinition</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="determineTimeout(org.springframework.transaction.TransactionDefinition)">
<h3>determineTimeout</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a></span>&nbsp;<span class="element-name">determineTimeout</span><wbr><span class="parameters">(<a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</span></div>
<div class="block">Determine the actual timeout to use for the given definition.
 Will fall back to this manager's default timeout if the
 transaction definition doesn't specify a non-default value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>definition</code> - the transaction definition</dd>
<dt>Returns:</dt>
<dd>the actual timeout to use</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/TransactionDefinition.html#getTimeout()"><code>TransactionDefinition.getTimeout()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSuspend(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)">
<h3>doSuspend</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">doSuspend</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span>
                                                 throws <span class="exceptions"><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doSuspend(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Suspend the resources of the current transaction.
 Transaction synchronization will already have been suspended.
 <p>The default implementation throws a TransactionSuspensionNotSupportedException,
 assuming that transaction suspension is generally not supported.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doSuspend(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)">doSuspend</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>synchronizationManager</code> - the synchronization manager bound to the current transaction</dd>
<dd><code>transaction</code> - the transaction object returned by <code>doGetTransaction</code></dd>
<dt>Returns:</dt>
<dd>an object that holds suspended resources
 (will be kept unexamined for passing it into doResume)</dd>
<dt>Throws:</dt>
<dd><code><a href="../../transaction/TransactionSuspensionNotSupportedException.html" title="class in org.springframework.transaction">TransactionSuspensionNotSupportedException</a></code> - if suspending is not supported by the transaction manager implementation</dd>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doResume(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,java.lang.Object)"><code>AbstractReactiveTransactionManager.doResume(org.springframework.transaction.reactive.TransactionSynchronizationManager, java.lang.Object, java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doResume(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,java.lang.Object)">
<h3>doResume</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">doResume</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="../../lang/Nullable.html" title="annotation interface in org.springframework.lang">@Nullable</a>
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</span>
                                              throws <span class="exceptions"><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doResume(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,java.lang.Object)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Resume the resources of the current transaction.
 Transaction synchronization will be resumed afterwards.
 <p>The default implementation throws a TransactionSuspensionNotSupportedException,
 assuming that transaction suspension is generally not supported.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doResume(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object,java.lang.Object)">doResume</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>synchronizationManager</code> - the synchronization manager bound to the current transaction</dd>
<dd><code>transaction</code> - the transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>suspendedResources</code> - the object that holds suspended resources,
 as returned by doSuspend</dd>
<dt>Throws:</dt>
<dd><code><a href="../../transaction/TransactionSuspensionNotSupportedException.html" title="class in org.springframework.transaction">TransactionSuspensionNotSupportedException</a></code> - if suspending is not supported by the transaction manager implementation</dd>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doSuspend(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)"><code>AbstractReactiveTransactionManager.doSuspend(org.springframework.transaction.reactive.TransactionSynchronizationManager, java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCommit(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">
<h3>doCommit</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">doCommit</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;TransactionSynchronizationManager,
 <a href="../../transaction/reactive/GenericReactiveTransaction.html" title="class in org.springframework.transaction.reactive">GenericReactiveTransaction</a>&nbsp;status)</span>
                                              throws <span class="exceptions"><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doCommit(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Perform an actual commit of the given transaction.
 <p>An implementation does not need to check the "new transaction" flag
 or the rollback-only flag; this will already have been handled before.
 Usually, a straight commit will be performed on the transaction object
 contained in the passed-in status.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doCommit(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">doCommit</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>TransactionSynchronizationManager</code> - the synchronization manager bound to the current transaction</dd>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of commit or system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/reactive/GenericReactiveTransaction.html#getTransaction()"><code>GenericReactiveTransaction.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doRollback(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">
<h3>doRollback</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">doRollback</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;TransactionSynchronizationManager,
 <a href="../../transaction/reactive/GenericReactiveTransaction.html" title="class in org.springframework.transaction.reactive">GenericReactiveTransaction</a>&nbsp;status)</span>
                                                throws <span class="exceptions"><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doRollback(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Perform an actual rollback of the given transaction.
 <p>An implementation does not need to check the "new transaction" flag;
 this will already have been handled before. Usually, a straight rollback
 will be performed on the transaction object contained in the passed-in status.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doRollback(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">doRollback</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>TransactionSynchronizationManager</code> - the synchronization manager bound to the current transaction</dd>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/reactive/GenericReactiveTransaction.html#getTransaction()"><code>GenericReactiveTransaction.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSetRollbackOnly(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">
<h3>doSetRollbackOnly</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">doSetRollbackOnly</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="../../transaction/reactive/GenericReactiveTransaction.html" title="class in org.springframework.transaction.reactive">GenericReactiveTransaction</a>&nbsp;status)</span>
                                                       throws <span class="exceptions"><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doSetRollbackOnly(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Set the given transaction rollback-only. Only called on rollback
 if the current transaction participates in an existing one.
 <p>The default implementation throws an IllegalTransactionStateException,
 assuming that participating in existing transactions is generally not
 supported. Subclasses are of course encouraged to provide such support.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doSetRollbackOnly(org.springframework.transaction.reactive.TransactionSynchronizationManager,org.springframework.transaction.reactive.GenericReactiveTransaction)">doSetRollbackOnly</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>synchronizationManager</code> - the synchronization manager bound to the current transaction</dd>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of system errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCleanupAfterCompletion(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)">
<h3>doCleanupAfterCompletion</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">doCleanupAfterCompletion</span><wbr><span class="parameters">(<a href="../../transaction/reactive/TransactionSynchronizationManager.html" title="class in org.springframework.transaction.reactive">TransactionSynchronizationManager</a>&nbsp;synchronizationManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doCleanupAfterCompletion(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)">AbstractReactiveTransactionManager</a></code></span></div>
<div class="block">Cleanup resources after transaction completion.
 <p>Called after <code>doCommit</code> and <code>doRollback</code> execution,
 on any outcome. The default implementation does nothing.
 <p>Should not throw any exceptions but just issue warnings on errors.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#doCleanupAfterCompletion(org.springframework.transaction.reactive.TransactionSynchronizationManager,java.lang.Object)">doCleanupAfterCompletion</a></code>&nbsp;in class&nbsp;<code><a href="../../transaction/reactive/AbstractReactiveTransactionManager.html" title="class in org.springframework.transaction.reactive">AbstractReactiveTransactionManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>synchronizationManager</code> - the synchronization manager bound to the current transaction</dd>
<dd><code>transaction</code> - the transaction object returned by <code>doGetTransaction</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareTransactionalConnection(io.r2dbc.spi.Connection,org.springframework.transaction.TransactionDefinition)">
<h3>prepareTransactionalConnection</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">prepareTransactionalConnection</span><wbr><span class="parameters">(<a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/Connection.html" title="class or interface in io.r2dbc.spi" class="external-link">Connection</a>&nbsp;con,
 <a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</span></div>
<div class="block">Prepare the transactional <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/Connection.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>Connection</code></a> right after transaction begin.
 <p>The default implementation executes a "SET TRANSACTION READ ONLY" statement if the
 <a href="#setEnforceReadOnly(boolean)"><code>"enforceReadOnly"</code></a> flag is set to <code>true</code> and the
 transaction definition indicates a read-only transaction.
 <p>The "SET TRANSACTION READ ONLY" is understood by Oracle, MySQL and Postgres
 and may work with other databases as well. If you'd like to adapt this treatment,
 override this method accordingly.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>con</code> - the transactional R2DBC Connection</dd>
<dd><code>definition</code> - the current transaction definition</dd>
<dt>Since:</dt>
<dd>5.3.22</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#setEnforceReadOnly(boolean)"><code>setEnforceReadOnly(boolean)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resolveIsolationLevel(int)">
<h3>resolveIsolationLevel</h3>
<div class="member-signature"><span class="annotations"><a href="../../lang/Nullable.html" title="annotation interface in org.springframework.lang">@Nullable</a>
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/IsolationLevel.html" title="class or interface in io.r2dbc.spi" class="external-link">IsolationLevel</a></span>&nbsp;<span class="element-name">resolveIsolationLevel</span><wbr><span class="parameters">(int&nbsp;isolationLevel)</span></div>
<div class="block">Resolve the <a href="../../transaction/TransactionDefinition.html#getIsolationLevel()">isolation level constant</a> to a R2DBC
 <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/IsolationLevel.html" title="class or interface in io.r2dbc.spi" class="external-link"><code>IsolationLevel</code></a>. If you'd like to extend isolation level translation for vendor-specific
 <code>IsolationLevel</code>s, override this method accordingly.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>isolationLevel</code> - the isolation level to translate.</dd>
<dt>Returns:</dt>
<dd>the resolved isolation level. Can be <code>null</code> if not resolvable or the isolation level
 should remain <a href="../../transaction/TransactionDefinition.html#ISOLATION_DEFAULT"><code>default</code></a>.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../transaction/TransactionDefinition.html#getIsolationLevel()"><code>TransactionDefinition.getIsolationLevel()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="translateException(java.lang.String,io.r2dbc.spi.R2dbcException)">
<h3>translateException</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></span>&nbsp;<span class="element-name">translateException</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;task,
 <a href="https://r2dbc.io/spec/1.0.0.RELEASE/api/io/r2dbc/spi/R2dbcException.html" title="class or interface in io.r2dbc.spi" class="external-link">R2dbcException</a>&nbsp;ex)</span></div>
<div class="block">Translate the given R2DBC commit/rollback exception to a common Spring exception to propagate
 from the <a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#commit(org.springframework.transaction.ReactiveTransaction)"><code>AbstractReactiveTransactionManager.commit(org.springframework.transaction.ReactiveTransaction)</code></a>/<a href="../../transaction/reactive/AbstractReactiveTransactionManager.html#rollback(org.springframework.transaction.ReactiveTransaction)"><code>AbstractReactiveTransactionManager.rollback(org.springframework.transaction.ReactiveTransaction)</code></a> call.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>task</code> - the task description (commit or rollback).</dd>
<dd><code>ex</code> - the SQLException thrown from commit/rollback.</dd>
<dt>Returns:</dt>
<dd>the translated exception to emit</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
